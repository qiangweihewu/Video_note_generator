# 文章笔记生成器 - Web界面

这是文章笔记生成器的Web界面，允许用户通过浏览器使用文章笔记生成器的功能，无需使用命令行。

## 功能特点

- 直观的Web界面，易于使用
- 支持视频URL输入（YouTube、哔哩哔哩、抖音等）
- 支持本地音频文件上传（MP3、WAV、M4A、FLAC、OGG、AAC）
- **批量处理功能** - 支持同时处理多个视频URL（最多10个）
- 可选择输出格式（小红书笔记、微信公众号文章或两者都选）
- 11种精美微信公众号模板可选
- 模板预览功能
- 生成结果在线查看和下载
- 批量处理结果统计和详细报告
- **自动图片管理** - 从Unsplash获取配图并自动保存到本地unsplash文件夹

## 安装和运行

1. 确保已安装文章笔记生成器的所有依赖项
2. 安装Web界面所需的额外依赖：

```bash
pip install flask werkzeug
```

3. 运行Web界面：

```bash
python web_interface.py
```

4. 在浏览器中访问：http://localhost:5001

## 使用方法

### 单个文件处理
1. 在首页选择输入源（视频URL或音频文件）
2. 选择输出格式（小红书笔记、微信公众号文章或两者都选）
3. 如果选择生成微信公众号文章，可以选择喜欢的模板风格
4. 点击"开始生成"按钮，等待处理完成
5. 在结果页面查看和下载生成的文件

### 批量处理多个URL
1. 在首页的视频URL选项卡中，勾选"批量处理多个URL"
2. 在批量URL文本框中，每行输入一个视频URL（最多支持10个）
3. 选择输出格式和微信公众号模板
4. 点击"开始生成"按钮，等待批量处理完成
5. 在批量结果页面查看处理统计和每个URL的详细结果
6. 可以分别查看和下载每个URL生成的文件

## 目录结构

- `web_interface.py` - Web界面主程序
- `templates/` - HTML模板文件
  - `base.html` - 基础模板
  - `index.html` - 首页
  - `result.html` - 单个处理结果页面
  - `batch_result.html` - 批量处理结果页面
  - `templates.html` - 模板列表页面
  - `preview.html` - 模板预览页面
  - `about.html` - 关于页面
- `static/` - 静态文件
  - `templates/` - 模板预览图片
- `unsplash/` - 自动下载的Unsplash图片存储文件夹

## 图片管理功能

Web界面继承了命令行版本的所有图片管理功能：

### 自动图片下载
- 生成文章时自动从Unsplash获取相关配图
- 图片同时保存到本地`unsplash/`文件夹和在线显示
- 智能文件命名：`图片ID_搜索关键词.jpg`
- 避免重复下载相同图片

### 图片文件夹结构
```
项目根目录/
├── unsplash/                    # 自动下载的图片
│   ├── abc123_technology.jpg
│   ├── def456_business.jpg
│   └── ...
├── temp_notes/                  # 按会话ID组织的生成文件
│   ├── session_20250105_143022/
│   └── ...
└── uploads/                     # 临时上传文件
```

### 图片使用说明
- HTML文件中显示在线图片URL，确保最佳加载速度
- 本地图片作为备份，可用于离线查看或二次编辑
- 图片质量经过筛选，适合文章配图使用
- 支持横版图片，符合微信公众号排版需求

## 注意事项

- Web界面默认在5001端口运行，可以通过修改`web_interface.py`中的端口号来更改
- 上传的音频文件大小限制为100MB
- 处理大文件可能需要较长时间，请耐心等待
- 批量处理最多支持10个URL，处理时间会相应增加
- 生成的文件会保存在`temp_notes`目录中，按会话ID组织
- 上传的音频文件会在处理完成后自动删除
- 批量处理中，如果某个URL处理失败，不会影响其他URL的处理

## 自定义

如果需要添加新的模板，请按照以下步骤操作：

1. 在`article_note_generator.py`中添加新的模板CSS
2. 在`web_interface.py`的`TEMPLATES`列表中添加新模板的信息
3. 在`static/templates/`目录中添加新模板的预览图片（命名为`模板ID.jpg`）

## 贡献

欢迎提交问题报告和功能请求！如果您想贡献代码，请提交拉取请求。